# 俺とテキスト分析と、ちょっとだけ未来の話

## 導入  

「テキスト分析」。名前だけ聞くと、なんだか白衣着た博士がモニター前で真剣にキーボード叩いてそうな、そんな響きがある。でも実際やってみると、思ったより泥臭い。だって最初にやるのが「句読点取ったり、小文字に変えたり」なんだもの。未来的どころか、まるで昔の掃除当番だ。  

そんなテキスト分析の世界に、遅ればせながら足を踏み入れてみた。で、やってみて分かったのは、「AIの魔法」って、けっこう地道な作業の積み重ねの上に成り立ってるってこと。今日はそんなテキスト分析の基本を、未来感ゼロのおっさん目線でまとめてみた。  

---

## 本文  

### コーパスって何さ

まず登場するのが「コーパス」。なんか強そうな名前だが、実態はシンプルで、「文章や単語の使用例を集めてコンピューターが検索できるようにしたもの」だ。  

これがないとテキスト分析は始まらない。いわば土台だ。家を建てるのに地面がなかったら無理なのと同じ。で、このコーパスを元にいろいろやるわけだけど、最初の関門が**トークン分割**である。  

---

### トークン分割と下準備  

文章を単語に分ける。英語だとスペースで切れば終わるけど、日本語だとそうはいかない。「私はカレーが好きです」をそのまま切ると、【私は】【カレーが】【好きです】ってまとめてしまうから、「カレー」と「好き」がバラバラに認識されなかったりする。  

しかも、ただ切るだけじゃ終わらない。分析しやすくするために**正規化**とか**ストップワード削除**とか、いろいろ面倒な下ごしらえが必要だ。  

- **正規化**：句読点を削除したり、全部小文字に変えたり。テキスト界の雑巾がけ。  
- **ストップワード削除**：やたら出てくるけど意味が薄い単語（英語だと "the" とか "a"）を消す。カレー作るときのアク取りみたいなもんだ。  
- **n-グラム**：2語以上で意味を持つ言葉を扱う。「I have」とか「we walked」とか。これを無視すると、文章が急にバカっぽくなる。  
- **ステミング**：語尾違いをまとめる。 "power", "powered", "powerful" を同じ「power」にしてくれる。英単語って親戚多すぎなんだよ。  

この辺をサボると、分析の結果がゴミになる。未来のAIも、下ごしらえ次第でカレーが激マズになるのと同じってことだ。  

---

### 分析その1：頻度分析  

一番シンプルなのがこれ。単語を数えて、多いものほど「この文章の主題に関係あるんじゃね？」と推測する。  

たとえば俺の勉強メモを数えたら、きっと「Azure」と「AI」がトップ争いするはずだ。で、たまに「筋トレ」とか「眠れない」とかが混じってきて、「この人の人生、大丈夫かな？」ってなる。  

でもシンプルだからこそ強力。文章全体の空気感をざっくりつかむには、この頻度分析が一番手っ取り早い。  

---

### 分析その2：テキスト分類  

次は分類。よくあるのが感情分析。SNSの投稿を見て、ポジティブかネガティブかを分類するやつだ。  

- "great", "tasty", "fun" → ポジティブ（1）  
- "terrible", "slow", "substandard" → ネガティブ（0）  

これをロジスティック回帰とかのアルゴリズムでやる。やや数学っぽいけど、実際は道具が全部やってくれる。俺らはポチッとボタンを押すだけ。未来感はあるけど、手作業はゼロ。  

---

### 分析その3：意味の関係を読む（セマンティック言語モデル）

ここからが本番だ。単語同士の意味的な近さを、多次元ベクトルで表現する。たとえば：  

dog  [10, 3, 2]
cat  [10, 3, 1]
bark [10, 2, 2]
meow [10, 2, 1]
skateboard [3, 3, 1]

「dog」と「cat」は近いけど、「skateboard」は全然遠い。こういうのを数千、数万次元でやるから、人間じゃ絶対無理。AIが得意なやつだ。  

ここからは自然言語処理（NLP）の世界になる。キーフレーズ抽出、要約、感情分析、翻訳、会話型AIまで、ぜんぶこのベクトルが土台になってる。  

---

### Azure AI Languageでできること  

で、Azure AI Languageはこの辺を全部お膳立てしてくれる。  

- 名前付きエンティティ認識  
- エンティティリンク（Wikipediaへのリンク）  
- 個人情報識別  
- 言語検出  
- 感情分析  
- 要約  
- キーフレーズ抽出  

おいおい、全部できるじゃないか。そう、ほぼセマンティック言語モデルだ。  

---

### Hands-onで遊んでみる  

[このURL](https://microsoftlearning.github.io/mslearn-ai-fundamentals/Instructions/Exercises/03-text-analysis.html)から試せる。  

やってみると、Azureが勝手に文章を要約してくれたり、ポジネガ判定してくれたりして、ちょっと未来を感じる。最初に句読点消してたのが嘘みたいだ。  

---

## まとめ  

テキスト分析の世界は、AIだの機械学習だのと未来感があるくせに、最初の一歩は地味すぎる。句読点消して、小文字にして、ストップワード取って…って、まるで掃除。  

でもこの下ごしらえがあるからこそ、感情分析も要約も翻訳も動く。未来はいつだって、雑用の積み重ねの上に立ってる。そう思えば、今日の句読点削除もちょっとは楽しくなる…かもしれない。  

---

## コラム：昔の翻訳ソフトの話  

90年代の翻訳ソフト、覚えてる人いるだろうか。単語ごとに直訳して、文章がカオスになったやつ。あれ、トークン分割も意味解析もロクにしてなかったのだ。今のAI翻訳がちゃんと動くのは、あの失敗があったから…かもしれない。  
